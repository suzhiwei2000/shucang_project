{"version":3,"sources":["webpack:///D:/webProject/前端数藏/前端uniapp11/pages/index/detail.vue?45fb","webpack:///D:/webProject/前端数藏/前端uniapp11/pages/index/detail.vue?2c98","uni-app:///main.js","webpack:///D:/webProject/前端数藏/前端uniapp11/pages/index/detail.vue?80e1","webpack:///D:/webProject/前端数藏/前端uniapp11/pages/index/detail.vue?0e46","webpack:///D:/webProject/前端数藏/前端uniapp11/pages/index/detail.vue?5a12","webpack:///D:/webProject/前端数藏/前端uniapp11/pages/index/detail.vue?7d41","uni-app:///pages/index/detail.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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AACA,0DADA;AAEA;AACA,sEADA;AAEA,4BAFA,EAFA;;AAMA,wBANA;AAOA;AACA,yDADA;AAEA,4BAFA,EAPA;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AAsBA,aA3BA,MA2BA;;;;;;;AAOA;;AAEA,WArDA;;AAuDA,OAzDA,MAyDA;AACA;AACA;AACA,4DADA;AAEA;AACA,wEADA;AAEA;AACA,8BAHA,EAFA;;AAOA,0BAPA;AAQA;AACA,2DADA;AAEA,+CAFA;AAGA,0BAHA;AAIA,sBAJA,EARA;;AAcA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA,aA7CA;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SA5EA,MA4EA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtTA;AAuTA,cAvTA,sBAuTA,KAvTA,EAuTA;AACA;AACA,KAzTA;AA0TA,OA1TA,eA0TA,EA1TA,EA0TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxUA;AAyUA,kBAzUA,0BAyUA,OAzUA,EAyUA;AACA,gDADA,CACA;AACA,kBAFA,CAEA;AACA,gBAHA,CAGA;AACA;AACA;AACA,wCADA,CACA;AACA,+CAFA,CAEA;AACA;AACA,iCADA,CACA;AACA,mCAFA,CAEA;AACA;AACA;AACA;AACA,mCADA,cACA,+BADA,cACA,sCADA;AAEA;AACA,KAzVA,EA5DA;;AAuZA,UAvZA,sBAuZA;AACA;AACA,GAzZA,E","file":"pages/index/detail.js","sourcesContent":["import mod from \"-!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1669537568148\n      var cssReload = require(\"D:/software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=5166ee27&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=5166ee27&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.payType = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"detail\">\r\n\t\t<view class=\"header\">\r\n\t\t\t<view class=\"media\">\r\n\t\t\t\t<view class=\"media-img-wrapper\">\r\n\t\t\t\t\t<image :src=\"detailList.file_path\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"last\">\r\n\t\t\t\t<view class=\"last-img\">\r\n\t\t\t\t\t<view class=\"share\">\r\n\t\t\t\t\t\t<image src=\"../../static/share.png\" mode=\"\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- <view class=\"flex-center\">\r\n\t\t\t\t\t\t<view class=\"flex-fixed\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/icon.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"title\">{{detailList.goods_name}}</view>\r\n\t\t\t\t\t\t<view class=\"flex-fixed\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/icon.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"assets\"><text>发行方</text><text>{{detailList.author}}</text></view> -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"newTxt\">\r\n\t\t\t\t<view v-if=\"detailType\">\r\n\t\t\t\t\t<view class=\"txt\">{{detailList.goods_name}}</view>\r\n\t\t\t\t\t<view class=\"center\">\r\n\t\t\t\t\t\t<view class=\"xianliang\">限量{{detailList.stock_total}}份</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"last_title\">温馨提示: 购买即可体验内容</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view v-else class=\"MyId\">藏品编号 : {{detailList.coll_id}}</view> -->\r\n\t\t\t\t<view v-else class=\"MyId\">{{collId}}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- <view class=\"detail-image\">\r\n\t\t\t<image class=\"detail-img\" :src=\"'https://sc.zhongyuansc.net/uploads/' + detailList.file_path\"\r\n\t\t\t\tmode=\"widthFix\"></image>\r\n\t\t</view> -->\r\n\t\t<view style=\"padding: 0 20rpx;box-sizing: border-box;\">\r\n\t\t\t<!-- <view class=\"exhibition\">\r\n\t\t\t\t<view class=\"titleTop\">{{detailList.goods_name}}</view>\r\n\t\t\t\t<view class=\"number\" v-if=\"detailType\">\r\n\t\t\t\t\t<view class=\"numText\">\r\n\t\t\t\t\t\t<view class=\"title\">限量</view>{{detailList.stock_total}}份\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"numText\">\r\n\t\t\t\t\t\t<view class=\"title\">剩余</view>{{detailList.stock_num}}份\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"story-title\">作品故事</view>\r\n\t\t\t<view class=\"story\">\r\n\r\n\t\t\t\t<view class=\"story-content\">\r\n\t\t\t\t\t<rich-text :nodes=\"detailList.content\"></rich-text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"story-title\">藏品信息</view>\r\n\t\t\t<view class=\"author\">\r\n\t\t\t\t<view class=\"nex\">\r\n\t\t\t\t\t<view style=\"color: #333;\">创造者: </view>\r\n\t\t\t\t\t<view style=\"color: #9B9B9B;text-align: right;\">{{detailList.author}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"nex\">\r\n\t\t\t\t\t<view style=\"color: #333;\">合约地址: </view>\r\n\t\t\t\t\t<view class=\"nex-address\" style=\"color: #9B9B9B;\">{{detailList.goods_address}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"nex\">\r\n\t\t\t\t\t<view style=\"color: #333;\">链上标识: </view>\r\n\t\t\t\t\t<view class=\"nex-address\" style=\"color: #9B9B9B;\">{{detailList.logo}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"nex\">\r\n\t\t\t\t\t<view style=\"color: #333;\">发行时间: </view>\r\n\t\t\t\t\t<view style=\"color: #9B9B9B;\">{{detailList.startTime}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"last_title\">购买须知</view> -->\r\n\t\t\t<view class=\"notice\" v-if=\"detailType\">\r\n\t\t\t\t<view class=\"notice-content\">{{noticeText}}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"submit\" v-if=\"detailType\">\r\n\t\t\t<view class=\"sub-price\" v-if=\"type != 2\">{{detailList.goods_price_min}}</view>\r\n\t\t\t<view class=\"sub-price\" v-else>{{detailList.price}}</view>\r\n\t\t\t<template v-if=\"userinfo.userId\">\r\n\t\t\t\t<view class=\"sub-btn\" v-if=\"showIcon && detailList.stock_num > 0\" @click=\"buy(detailList.goods_id)\">立即购买\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"sub-btn\" v-if=\"showIcon && detailList.stock_num == 0\">已售罄</view>\r\n\t\t\t\t<view class=\"sub-btn timeIcon\" v-if=\"!showIcon\">\r\n\t\t\t\t\t<view class=\"icon\">\r\n\t\t\t\t\t\t<image src=\"../../static/shijian.png\" mode=\"\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>{{startTime}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<template v-else>\r\n\t\t\t\t<view class=\"sub-btn\" @click=\"login\">暂未登录</view>\r\n\t\t\t</template>\r\n\t\t</view>\r\n\t\t<view class=\"back\" @click=\"payType = false\" v-if=\"payType\">\r\n\t\t\t<view class=\"change\" @click.stop>\r\n\t\t\t\t<view class=\"title\">选择支付方式</view>\r\n\t\t\t\t<view class=\"item\" :class=\"index == payIndex?'active':''\" v-for=\"(item,index) in payArr\"\r\n\t\t\t\t\t@click=\"changeType(index)\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"img\">\r\n\t\t\t\t\t\t<image :src=\"item.image\" mode=\"\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>{{item.name}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"yes\" @click=\"submit\">确定</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<form id='alipaysubmit' name='alipaysubmit' action='支付宝地址' method='POST'></form>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport TronWeb from 'tronweb';\r\n\tconst ethers = require('ethers')\r\n\tconst AbiCoder = ethers.utils.AbiCoder;\r\n\tconst ADDRESS_PREFIX_REGEX = /^(41)/;\r\n\tconst ADDRESS_PREFIX = \"41\";\r\n\timport tool from '../../common/tool.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdetailImg: require('../../static/story_03.png'),\r\n\t\t\t\tstoryImg: require('../../static/story.png'),\r\n\t\t\t\tnoticeText: '数字藏品为虚拟数字商品，而非实物，仅限实名认证为年满14周岁的中国大陆用户购买。数字藏品的版权由发行方或原创者拥有，除另行取得版权拥有者书面同意外，用户不得将数字藏品用于任何商业用途。本商品一经售出，不支持退换。本商品源文件不支持本地下载。请勿对数字藏品进行炒作、场外交易、欺诈，或以任何其他非法方式进行使用。',\r\n\t\t\t\tdetailList: {},\r\n\t\t\t\tdetailType: true,\r\n\t\t\t\tpayType: false,\r\n\t\t\t\tpayArr: [{\r\n\t\t\t\t\t\tname: \"微信\",\r\n\t\t\t\t\t\timage: '/static/wechat.png'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"支付宝\",\r\n\t\t\t\t\t\timage: '/static/zfb.png'\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// ,\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \tname: \"测试支付\",\r\n\t\t\t\t\t// \timage: '/static/icon_01.png'\r\n\t\t\t\t\t// }\r\n\t\t\t\t],\r\n\t\t\t\tpayIndex: 0,\r\n\t\t\t\tshowIcon: false,\r\n\t\t\t\tstartTime: '',\r\n\t\t\t\ttimer: null,\r\n\t\t\t\tuserinfo: '',\r\n\t\t\t\ttimeOut: '',\r\n\t\t\t\tcode: '',\r\n\t\t\t\tcollId: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onLoad(data) {\r\n\t\t\tconsole.log(data)\r\n\t\t\tif(data.type == 2){\r\n\t\t\t\tthis.type = 2\r\n\t\t\t\tthis.showIcon = true\r\n\t\t\t\tthis.$request('get', 'order/details', {\r\n\t\t\t\t\ttransactionId:data.id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tconsole.log('res', res)\r\n\t\t\t\tres.data.content = tool.formatRichText(res.data.content)\r\n\t\t\t\tthis.detailList = res.data\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log('err', err)\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tthis.getDetailList(data.id)\r\n\t\t\t\tif (data.type == 1) {\r\n\t\t\t\t\tthis.detailType = false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(data.collId) {\r\n\t\t\t\tthis.collId = data.collId\r\n\t\t\t}\r\n\t\t\tthis.userinfo = uni.getStorageSync('userinfo')\r\n\t\t\tthis.code = await this.enCode()\r\n\t\t\tconsole.log('as', this.code)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetDetailList(id) {\r\n\t\t\t\tthis.$request('get', 'Goods/goodsDetails', {\r\n\t\t\t\t\tgoodsid: id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tconsole.log('res', res)\r\n\t\t\t\t\tres.data.goodsdetails.content = tool.formatRichText(res.data.goodsdetails.content)\r\n\t\t\t\t\t// res.data.goodsdetails.file_path = `${this.$config.ImgUrl}${res.data.goodsdetails.file_path}`\r\n\t\t\t\t\tthis.detailList = res.data.goodsdetails\r\n\t\t\t\t\tlet date = new Date(res.data.goodsdetails.startTime.replace(/-/g, '/')).getTime()\r\n\t\t\t\t\tlet timestamp = new Date().getTime()\r\n\t\t\t\t\tif (timestamp > date) return this.showIcon = true\r\n\t\t\t\t\tconsole.log('ppp', date, (date - timestamp))\r\n\t\t\t\t\tthis.timer = setInterval(() => {\r\n\t\t\t\t\t\tlet timestamp = new Date().getTime()\r\n\t\t\t\t\t\tlet countdown = date - timestamp\r\n\t\t\t\t\t\tthis.showIcon = false\r\n\t\t\t\t\t\tif (countdown - 1 > 1) {\r\n\t\t\t\t\t\t\tcountdown -= 1\r\n\t\t\t\t\t\t\tthis.startTime = this.formateSeconds(countdown)\r\n\t\t\t\t\t\t\t// console.log('sad',this.startTime)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.showIcon = true\r\n\t\t\t\t\t\t\tclearInterval(this.timer)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log('err', err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlogin() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/login/index'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync enCode() {\r\n\t\t\t\tlet timeOut = `${this.getRandomSixDigit()}${uni.getStorageSync('userinfo').userId}`\r\n\t\t\t\tthis.timeOut = timeOut\r\n\t\t\t\tconsole.log('asd', timeOut);\r\n\t\t\t\t// let address = TronWeb.address.toHex(uni.getStorageSync('userinfo').address)\r\n\t\t\t\tlet inputs = [{\r\n\t\t\t\t\t\ttype: 'address',\r\n\t\t\t\t\t\tvalue: uni.getStorageSync('userinfo').address\r\n\t\t\t\t\t\t// value: address\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'uint256',\r\n\t\t\t\t\t\tvalue: timeOut\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\tvalue: \"'ipfs://QmWyB4dGanAS3ckMwF5GTJGUs9ipNUjRNaDSsavJ4BnEmE'\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t\t// let inputs = [\r\n\t\t\t\t//     {type: 'address', value: '4159ecb02f71a2e9244e86fceefc29667c512c7be0'},\r\n\t\t\t\t// \t{type: 'address', value: '417283cb8e690acf1b3b0f4f9d109999e1afa53c05'},\r\n\t\t\t\t//     {type: 'uint256', value: '1444441'},\r\n\t\t\t\t// ]\r\n\t\t\t\tconsole.log('inputs',inputs)\r\n\t\t\t\tlet parameters = await this.encodeParams(inputs)\r\n\t\t\t\tconsole.log('parameters', parameters)\r\n\t\t\t\treturn parameters\r\n\t\t\t},\r\n\t\t\tasync encodeParams(inputs) {\r\n\t\t\t\tlet typesValues = inputs\r\n\t\t\t\tlet parameters = ''\r\n\r\n\t\t\t\tif (typesValues.length == 0)\r\n\t\t\t\t\treturn parameters\r\n\t\t\t\tconst abiCoder = new AbiCoder();\r\n\t\t\t\tlet types = [];\r\n\t\t\t\tconst values = [];\r\n\r\n\t\t\t\tfor (let i = 0; i < typesValues.length; i++) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\tvalue\r\n\t\t\t\t\t} = typesValues[i];\r\n\t\t\t\t\tif (type == 'address')\r\n\t\t\t\t\t\tvalue = value.replace(ADDRESS_PREFIX_REGEX, '0x');\r\n\t\t\t\t\telse if (type == 'address[]')\r\n\t\t\t \t\tvalue = value.map(v => toHex(v).replace(ADDRESS_PREFIX_REGEX, '0x'));\r\n\t\t\t\t\ttypes.push(type);\r\n\t\t\t\t\tvalues.push(value);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(types, values)\r\n\t\t\t\ttry {\r\n\t\t\t\t\tparameters = abiCoder.encode(types, values).replace(/^(0x)/, '');\r\n\t\t\t\t} catch (ex) {\r\n\t\t\t\t\tconsole.log('ex', ex);\r\n\t\t\t\t}\r\n\t\t\t\treturn parameters\r\n\r\n\t\t\t},\r\n\t\t\tgetRandomSixDigit() {\r\n\t\t\t\tlet code = ''\r\n\t\t\t\tfor (var i = 0; i < 5; i++) {\r\n\t\t\t\t\tcode += parseInt(Math.random() * 10)\r\n\t\t\t\t}\r\n\t\t\t\treturn code\r\n\t\t\t},\r\n\t\t\tsubmit() {\r\n\t\t\t\tthis.payType = false\r\n\t\t\t\tif(this.type == 2){\r\n\t\t\t\t\tlet payType = this.payIndex == 0? 20 : 30;\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: `${this.$config.URL}checkout/buy`,\r\n\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\t'Access-Token': uni.getStorageSync('userinfo').token || '',\r\n\t\t\t\t\t\t\t'platform':'H5'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\ttransactionId: this.detailList.transaction_id,\r\n\t\t\t\t\t\t\tpayType: payType,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res)=>{\r\n\t\t\t\t\t\t\tif (res.data.status == 500) {\r\n\t\t\t\t\t\t\t\treturn this.$showToast(res.data.message)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t\t\t// 将接口返回的form表单显示到页面\r\n\t\t\t\t\t\t\tif(payType == 10) {\r\n\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t// const newUrl = res.data + '&redirect_url=' + encodeURIComponent(\r\n\t\t\t\t\t\t\t\t// \t`${config.yu}#/pages/order/index`)\r\n\t\t\t\t\t\t\t\t// console.log('asd', newUrl)\r\n\t\t\t\t\t\t\t\t// location.href = res.data.data.url\r\n\t\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t\t  location.href = res.data.data.url\r\n\t\t\t\t\t\t\t\t  // #endif\r\n\t\t\t\t\t\t\t\t  // #ifdef APP-PLUS       \r\n\t\t\t\t\t\t\t\t  const platform = uni.getSystemInfoSync().platform\r\n\t\t\t\t\t\t\t\t  const webview = plus.webview.create(); // 创建一个webview\r\n\t\t\t\t\t\t\t\t  console.log('bbb', platform)\r\n\t\t\t\t\t\t\t\t  switch (platform) {\r\n\t\t\t\t\t\t\t\t   case 'android':\r\n\t\t\t\t\t\t\t\t    plus.webview.open(res.data.data.url);\r\n\t\t\t\t\t\t\t\t    break;\r\n\t\t\t\t\t\t\t\t   case 'ios':\r\n\t\t\t\t\t\t\t\t    plus.webview.open(res.data.data.url);\r\n\t\t\t\t\t\t\t\t    // webview.loadURL(newUrl,{'Referer':'https://www.web3metadao.cn/'});//解决ios支付完成后，打开safari浏览器的bug\r\n\t\t\t\t\t\t\t\t    break;\r\n\t\t\t\t\t\t\t\t   default:\r\n\t\t\t\t\t\t\t\t    plus.webview.open(res.data.data.url);\r\n\t\t\t\t\t\t\t\t    // webview.loadURL(newUrl,{'Referer':'https://www.web3metadao.cn/'});\r\n\t\t\t\t\t\t\t\t    break;\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t  // #endif\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t\tdocument.querySelector('body').innerHTML = res.data;\r\n\t\t\t\t\t\t\t\t// 调用submit方法\r\n\t\t\t\t\t\t\t\tdocument.forms[0].submit()\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.payIndex == 0) {\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: `${this.$config.URL}Checkout/pay`,\r\n\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t'Access-Token': uni.getStorageSync('userinfo').token || '',\r\n\t\t\t\t\t\t\t\t// 'storeId':uni.getStorageSync('userinfo').userId || '',\r\n\t\t\t\t\t\t\t\t'platform': 'H5'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tuserid: uni.getStorageSync('userinfo').userId,\r\n\t\t\t\t\t\t\t\tgoodsid: this.detailList.goods_id,\r\n\t\t\t\t\t\t\t\tpay_type: 20,\r\n\t\t\t\t\t\t\t\tisBox: 0\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tif (res.data.status == 500) {\r\n\t\t\t\t\t\t\t\t\treturn this.$showToast(res.data.message)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t// location.href = res.data.data.url\r\n\t\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t\t  location.href = res.data.data.url\r\n\t\t\t\t\t\t\t\t  // #endif\r\n\t\t\t\t\t\t\t\t  // #ifdef APP-PLUS       \r\n\t\t\t\t\t\t\t\t  const platform = uni.getSystemInfoSync().platform\r\n\t\t\t\t\t\t\t\t  const webview = plus.webview.create(); // 创建一个webview\r\n\t\t\t\t\t\t\t\t  console.log('bbb', platform)\r\n\t\t\t\t\t\t\t\t  switch (platform) {\r\n\t\t\t\t\t\t\t\t   case 'android':\r\n\t\t\t\t\t\t\t\t    plus.webview.open(res.data.data.url);\r\n\t\t\t\t\t\t\t\t    break;\r\n\t\t\t\t\t\t\t\t   case 'ios':\r\n\t\t\t\t\t\t\t\t    plus.webview.open(res.data.data.url);\r\n\t\t\t\t\t\t\t\t    // webview.loadURL(newUrl,{'Referer':'https://www.web3metadao.cn/'});//解决ios支付完成后，打开safari浏览器的bug\r\n\t\t\t\t\t\t\t\t    break;\r\n\t\t\t\t\t\t\t\t   default:\r\n\t\t\t\t\t\t\t\t    plus.webview.open(res.data.data.url);\r\n\t\t\t\t\t\t\t\t    // webview.loadURL(newUrl,{'Referer':'https://www.web3metadao.cn/'});\r\n\t\t\t\t\t\t\t\t    break;\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t  // #endif\r\n\t\t\t\t\t\t\t\t// // 将接口返回的form表单显示到页面\r\n\t\t\t\t\t\t\t\t// document.querySelector('body').innerHTML = res.data;\r\n\t\t\t\t\t\t\t\t// // 调用submit方法\r\n\t\t\t\t\t\t\t\t// document.forms[0].submit()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// uni.request({\r\n\t\t\t\t\t\t// \turl: `${this.$config.URL}Checkout/ordersWe`,\r\n\t\t\t\t\t\t// \theader: {\r\n\t\t\t\t\t\t// \t\t'Access-Token': uni.getStorageSync('userinfo').token || '',\r\n\t\t\t\t\t\t// \t\t// 'storeId':uni.getStorageSync('userinfo').userId || '',\r\n\t\t\t\t\t\t// \t\t'platform': 'H5'\r\n\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t// \tmethod: 'POST',\r\n\t\t\t\t\t\t// \tdata: {\r\n\t\t\t\t\t\t// \t\tgoodsid: this.detailList.goods_id,\r\n\t\t\t\t\t\t// \t\tuserid: uni.getStorageSync('userinfo').userId,\r\n\t\t\t\t\t\t// \t\tisBox: 0,\r\n\t\t\t\t\t\t// \t\tpay_type: 20\r\n\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t// \tsuccess: (res) => {\r\n\t\t\t\t\t\t// \t\tif (res.data.status == 500) {\r\n\t\t\t\t\t\t// \t\t\treturn this.$showToast(res.data.message)\r\n\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t// \t\tconsole.log('dd', res)\r\n\t\t\t\t\t\t// \t\tconst newUrl = res.data + '&redirect_url=' + encodeURIComponent(\r\n\t\t\t\t\t\t// \t\t\t`${this.$config.yu}#/pages/order/index`)\r\n\t\t\t\t\t\t// \t\tconsole.log('asd', newUrl)\r\n\t\t\t\t\t\t// \t\tlocation.href = newUrl\r\n\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t// });\r\n\t\t\t\t\t} else if (this.payIndex == 1) {\r\n\t\t\t\t\t\t//#ifdef H5\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: `${this.$config.URL}Checkout/orders`,\r\n\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t'Access-Token': uni.getStorageSync('userinfo').token || '',\r\n\t\t\t\t\t\t\t\t// 'storeId':uni.getStorageSync('userinfo').userId || '',\r\n\t\t\t\t\t\t\t\t'platform': 'H5'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tgoodsid: this.detailList.goods_id,\r\n\t\t\t\t\t\t\t\tuserid: uni.getStorageSync('userinfo').userId,\r\n\t\t\t\t\t\t\t\tisBox: 0,\r\n\t\t\t\t\t\t\t\tpay_type: 30\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tif (res.data.status == 500) {\r\n\t\t\t\t\t\t\t\t\treturn this.$showToast(res.data.message)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// 将接口返回的form表单显示到页面\r\n\t\t\t\t\t\t\t\tdocument.querySelector('body').innerHTML = res.data;\r\n\t\t\t\t\t\t\t\t// 调用submit方法\r\n\t\t\t\t\t\t\t\tdocument.forms[0].submit()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//#endif\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//  else {\r\n\t\t\t\t// \tuni.request({\r\n\t\t\t\t// \t\turl: `${this.$config.URL}Checkout/pay`,\r\n\t\t\t\t// \t\theader: {\r\n\t\t\t\t// \t\t\t'Access-Token': uni.getStorageSync('userinfo').token || '',\r\n\t\t\t\t// \t\t\t// 'storeId':uni.getStorageSync('userinfo').userId || '',\r\n\t\t\t\t// \t\t\t'platform': 'H5'\r\n\t\t\t\t// \t\t},\r\n\t\t\t\t// \t\tmethod: 'POST',\r\n\t\t\t\t// \t\tdata: {\r\n\t\t\t\t// \t\t\tuserid: uni.getStorageSync('userinfo').userId,\r\n\t\t\t\t// \t\t\tgoodsid: this.detailList.goods_id,\r\n\t\t\t\t// \t\t\tpay_type: 20,\r\n\t\t\t\t// \t\t\tisBox: 0\r\n\t\t\t\t// \t\t},\r\n\t\t\t\t// \t\tsuccess: (res) => {\r\n\t\t\t\t// \t\t\tif (res.data.status == 500) {\r\n\t\t\t\t// \t\t\t\treturn this.$showToast(res.data.message)\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t\tconsole.log(res.data.url)\r\n\t\t\t\t// \t\t\tlocation.href = res.data.url\r\n\t\t\t\t// \t\t\t// // 将接口返回的form表单显示到页面\r\n\t\t\t\t// \t\t\t// document.querySelector('body').innerHTML = res.data;\r\n\t\t\t\t// \t\t\t// // 调用submit方法\r\n\t\t\t\t// \t\t\t// document.forms[0].submit()\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t});\r\n\r\n\t\t\t\t// \t// this.$request('post', 'Checkout/pay', {\r\n\t\t\t\t// \t// \tgoodsId: this.detailList.goods_id,\r\n\t\t\t\t// \t// \tgoodsSkuId: this.detailList.id,\r\n\t\t\t\t// \t// \tgoodsNum: 1,\r\n\t\t\t\t// \t// \tparameter: this.code,\r\n\t\t\t\t// \t// \ttokenId: this.timeOut,\r\n\t\t\t\t// \t// \tis_box: 0\r\n\t\t\t\t// \t// }).then(res => {\r\n\t\t\t\t// \t// \tconsole.log('res', res)\r\n\t\t\t\t// \t// \tthis.payType = false\r\n\t\t\t\t// \t// }).catch(err => {\r\n\t\t\t\t// \t// \tconsole.log('err', err)\r\n\t\t\t\t// \t// })\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tchangeType(index) {\r\n\t\t\t\tthis.payIndex = index\r\n\t\t\t},\r\n\t\t\tbuy(id) {\r\n\t\t\t\tif (!this.userinfo.idcar) {\r\n\t\t\t\t\treturn this.$showToast('请完成实名认证')\r\n\t\t\t\t}\r\n\t\t\t\tthis.payType = true\r\n\t\t\t\t// this.$request('post','Checkout/purchaseGoods',{\r\n\t\t\t\t// \tgoodsid: id,\r\n\t\t\t\t// \tuserid : uni.getStorageSync('userinfo').userId,\r\n\t\t\t\t// \t// token: uni.getStorageSync('userinfo').token\r\n\t\t\t\t// }).then(res => {\r\n\t\t\t\t// \tconsole.log('res',res)\r\n\t\t\t\t// }).catch(err => {\r\n\t\t\t\t// \tconsole.log('err',err)\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\tformateSeconds(endTime) {\r\n\t\t\t\tlet secondTime = parseInt(endTime / 1000) //将传入的秒的值转化为Number\r\n\t\t\t\tlet min = 0 // 初始化分\r\n\t\t\t\tlet h = 0 // 初始化小时\r\n\t\t\t\tlet result = ''\r\n\t\t\t\tif (secondTime > 60) { //如果秒数大于60，将秒数转换成整数\r\n\t\t\t\t\tmin = parseInt(secondTime / 60) //获取分钟，除以60取整数，得到整数分钟\r\n\t\t\t\t\tsecondTime = parseInt(secondTime % 60) //获取秒数，秒数取佘，得到整数秒数\r\n\t\t\t\t\tif (min > 60) { //如果分钟大于60，将分钟转换成小时\r\n\t\t\t\t\t\th = parseInt(min / 60) //获取小时，获取分钟除以60，得到整数小时\r\n\t\t\t\t\t\tmin = parseInt(min % 60) //获取小时后取佘的分，获取分钟除以60取佘的分\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tresult =\r\n\t\t\t\t\t`${h.toString().padStart(2,'0')}:${min.toString().padStart(2,'0')}:${secondTime.toString().padStart(2,'0')}`\r\n\t\t\t\treturn result\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tclearInterval(this.timer)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\tbackground-color: #FFF;\r\n\t}\r\n\r\n\t.detail {\r\n\t\twidth: 100%;\r\n\t\tpadding: 0 0 120rpx;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.header {\r\n\t\t\theight: 680px;\r\n\t\t\t// background-image: url('../../static/bg1.png');\r\n\t\t\t// background-position: top;\r\n\t\t\t// background-size: cover;\r\n\t\t\tposition: relative;\r\n\t\t\tbackground-color: #FFF;\r\n\r\n\t\t\t.last {\r\n\t\t\t\twidth: 632rpx;\r\n\t\t\t\theight: 382rpx;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 60rpx;\r\n\t\t\t\tleft: calc(50% - 310rpx);\r\n\r\n\t\t\t\t.last-img {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tbackground-image: url('../../static/last.png');\r\n\t\t\t\t\tbackground-position: 50%;\r\n\t\t\t\t\tbackground-size: cover;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tpadding: 160rpx 20rpx 0;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t\t.share {\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tleft: calc(50% - 30rpx);\r\n\t\t\t\t\t\ttop: -8%;\r\n\t\t\t\t\t\tbottom: 368rpx;\r\n\t\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\t\theight: 60rpx;\r\n\r\n\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.flex-center {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t\t.flex-fixed {\r\n\t\t\t\t\t\t\twidth: 36rpx;\r\n\t\t\t\t\t\t\theight: 30rpx;\r\n\r\n\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.title {\r\n\t\t\t\t\t\t\tcolor: #FFF;\r\n\t\t\t\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t\t\t\t\tfont-size: 15px;\r\n\t\t\t\t\t\t\tfont-weight: 700;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.assets {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\tcolor: #FFF;\r\n\t\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t\t\tmargin-top: 10rpx;\r\n\r\n\t\t\t\t\t\ttext:nth-child(1) {\r\n\t\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.newTxt {\r\n\t\t\t\twidth: 90%;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 60rpx;\r\n\t\t\t\tbackground-color: #1B1714;\r\n\t\t\t\tborder: 4rpx solid #BE9D8A;\r\n\t\t\t\tleft: calc(5% - 8rpx);\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\tpadding: 10rpx;\r\n\t\t\t\t.MyId{\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tfont-weight: 700;\r\n\t\t\t\t\tpadding: 20rpx 0;\r\n\t\t\t\t\tletter-spacing: 2px;\r\n\t\t\t\t}\r\n\t\t\t\t.txt {\r\n\t\t\t\t\tcolor: #FFF;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tfont-size: 20px;\r\n\t\t\t\t\tmargin-top: 10rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.center {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t\t.xianliang {\r\n\t\t\t\t\t\tbackground-color: #FACEB6;\r\n\t\t\t\t\t\tcolor: #000;\r\n\t\t\t\t\t\tborder-radius: 30rpx;\r\n\t\t\t\t\t\tpadding: 4rpx 14rpx;\r\n\t\t\t\t\t\tmargin: 0 auto;\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\tfont-size: 15px;\r\n\t\t\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.last_title {\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tcolor: #615752;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.last_title:before {\r\n\t\t\t\t\tleft: 44px;\r\n\t\t\t\t\tcontent: \"\";\r\n\t\t\t\t\twidth: 55px;\r\n\t\t\t\t\theight: 2rpx;\r\n\t\t\t\t\tbackground-color: #615752;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\t-webkit-transform: translateY(-50%);\r\n\t\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.last_title:after {\r\n\t\t\t\t\tright: 44px;\r\n\t\t\t\t\tcontent: \"\";\r\n\t\t\t\t\twidth: 55px;\r\n\t\t\t\t\theight: 2rpx;\r\n\t\t\t\t\tbackground-color: #615752;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\t-webkit-transform: translateY(-50%);\r\n\t\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.media {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 36%;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translate(-50%, -50%) !important;\r\n\t\t\t\tz-index: 2;\r\n\r\n\t\t\t\t.media-img-wrapper {\r\n\t\t\t\t\twidth: 400rpx;\r\n\t\t\t\t\theight: 400rpx;\r\n\t\t\t\t\tborder-radius: 30rpx;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\timage{\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.detail-image {\r\n\t\t\twidth: 100%;\r\n\t\t\ttext-align: center;\r\n\t\t\ttransform: translate3d(0, 0, 0);\r\n\r\n\t\t\t.detail-img {\r\n\t\t\t\twidth: 70%;\r\n\t\t\t\tanimation: detail 20s infinite;\r\n\t\t\t\ttransform: translate3d(0, 0, 2rpx);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.exhibition {\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding: 100rpx 0 100rpx;\r\n\t\t\tbackground: url(../../static/story_02.png) no-repeat;\r\n\t\t\tbackground-size: 100% 100%;\r\n\t\t\tfont-size: 45rpx;\r\n\t\t\tcolor: #fff;\r\n\t\t\ttext-align: center;\r\n\r\n\t\t\t.titleTop {\r\n\t\t\t\tmargin-top: 50rpx;\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t}\r\n\r\n\t\t\t.number {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tmargin: 20rpx 0;\r\n\r\n\t\t\t\t.numText {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tborder-radius: 5rpx;\r\n\t\t\t\t\tbackground: #4B4B4C;\r\n\t\t\t\t\tcolor: #F3E0BC;\r\n\t\t\t\t\tpadding-right: 20rpx;\r\n\t\t\t\t\tmargin-right: 15rpx;\r\n\r\n\t\t\t\t\t.title {\r\n\t\t\t\t\t\tbackground: #F3E0BC;\r\n\t\t\t\t\t\tpadding: 5rpx 10rpx;\r\n\t\t\t\t\t\tcolor: #000;\r\n\t\t\t\t\t\tborder-radius: 5rpx;\r\n\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.story-title {\r\n\t\t\tfont-size: 17px;\r\n\t\t\tfont-weight: 700;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t}\r\n\r\n\t\t.story {\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground: #f9f9f9;\r\n\t\t\tborder-radius: 30rpx;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tpadding: 40rpx 30rpx;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\r\n\r\n\t\t\t.story-content-img {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.story-author {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tpadding: 30rpx 20rpx 20rpx;\r\n\t\t\t\tcolor: #A3A3A3;\r\n\t\t\t\tfont-size: 35rpx;\r\n\r\n\t\t\t\t.story-author-text {\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.author {\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground: #f9f9f9;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\tborder-radius: 30rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tpadding: 40rpx 30rpx;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t.nex {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t.nex-address{\r\n\t\t\t\t\twidth: 70%;\r\n\t\t\t\t\twhite-space:normal;\r\n\t\t\t\t\tword-break:break-all;\r\n\t\t\t\t\tword-wrap:break-word;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tview {\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.last_title {\r\n\t\t\tposition: relative;\r\n\t\t\tcolor: #101010;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\r\n\t\t.last_title:before {\r\n\t\t\tleft: 44px;\r\n\t\t\tcontent: \"\";\r\n\t\t\twidth: 55px;\r\n\t\t\theight: 0.5px;\r\n\t\t\tbackground-color: #e5e5e5;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\t-webkit-transform: translateY(-50%);\r\n\t\t\ttransform: translateY(-50%);\r\n\t\t}\r\n\r\n\t\t.last_title:after {\r\n\t\t\tright: 44px;\r\n\t\t\tcontent: \"\";\r\n\t\t\twidth: 55px;\r\n\t\t\theight: 0.5px;\r\n\t\t\tbackground-color: #e5e5e5;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\t-webkit-transform: translateY(-50%);\r\n\t\t\ttransform: translateY(-50%);\r\n\t\t}\r\n\r\n\t\t.notice {\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground: #fff;\r\n\t\t\tborder-radius: 30rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tpadding: 40rpx 30rpx;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tmargin-top: 20rpx;\r\n\r\n\t\t\t.notice-title {\r\n\t\t\t\tfont-size: 50rpx;\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.notice-content {\r\n\t\t\t\tcolor: #9B9B9B;\r\n\t\t\t\tletter-spacing: 3.5rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.submit {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 20rpx 30rpx;\r\n\t\t\tbackground: #fff;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-size: 50rpx;\r\n\t\t\tfont-weight: 700;\r\n\t\t\tbox-sizing: border-box;\r\n            border-top: 2rpx solid #F2F2F2;\r\n\r\n\t\t\t.sub-price {\r\n\t\t\t\tletter-spacing: 5rpx;\r\n\t\t\t\tcolor: #007aff;\r\n\t\t\t\tmargin-left: 50rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.sub-btn {\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tbackground: #007aff;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t\tpadding: 20rpx 60rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\r\n\t\t\t.timeIcon {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.icon {\r\n\t\t\t\t\twidth: 36rpx;\r\n\t\t\t\t\theight: 36rpx;\r\n\t\t\t\t\tmargin-right: 6rpx;\r\n\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes detail {\r\n\t\t0% {\r\n\t\t\ttransform: rotateY(0);\r\n\t\t}\r\n\r\n\t\t50% {\r\n\t\t\ttransform: rotateY(360deg);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: rotateY(0);\r\n\t\t}\r\n\t}\r\n\r\n\t.back {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: rgba(0, 0, 0, .5);\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tz-index: 999;\r\n\r\n\t\t.change {\r\n\t\t\twidth: 86%;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tbackground-color: #FFF;\r\n\t\t\tborder-radius: 30rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t.title {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\r\n\t\t\t.item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-top: 30rpx;\r\n\t\t\t\tpadding: 10rpx;\r\n\r\n\t\t\t\t.img {\r\n\t\t\t\t\twidth: 64rpx;\r\n\t\t\t\t\theight: 64rpx;\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.active {\r\n\t\t\t\tborder: 4rpx dashed #F3E0BC;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.yes {\r\n\t\t\twidth: 80%;\r\n\t\t\theight: 70rpx;\r\n\t\t\tline-height: 70rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tbackground-color: #F3E0BC;\r\n\t\t\tcolor: #000;\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tmargin-top: 40rpx;\r\n\t\t\tborder-radius: 34rpx;\r\n\t\t}\r\n\t}\r\n</style>\n"],"sourceRoot":""}